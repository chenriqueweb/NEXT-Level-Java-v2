<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />

<title>NEXT Level - Java</title>

<link rel="shortcut icon"
	href="https://www.via.com.br/wp-content/themes/viavarejo/assets/images/favicon.png?v=2">
<link href="../static/css/estilo.css" th:href="@{/css/estilo.css}"
	rel="stylesheet" />  

</head>

<body>
	<header>
		<nav>
			<ul>
				<li><a th:href="@{/}">MENU</a></li>
				<li><a th:href="@{/empresa/novo}"> Novo </a></li>
			</ul>
		</nav>

	</header>

	<main>
		<section>
			<h1>Lista das Empresas</h1>
		</section>

		<section>
			<table>
				<thead>
					<tr>
						<th>Codigo</th>
						<th>Razão Social</th>
						<th>CNPJ</th>
						<th>Data Abertura</th>
					</tr>
				</thead>

				<tbody>
					<tr th:each="empresa: ${empresas}">
						<td th:text="${empresa.codigo}"></td>
						<td th:text="${empresa.razaoSocial}"></td>
						<td th:text="${empresa.raizCNPJ}"></td>
						<td th:text="${empresa.dataAbertura}"></td>

						<td><a
							th:href="@{/empresa/editar/{codigo}(codigo=${empresa.codigo})}">Editar</a>
						</td>

						<td>
							<form
								th:action="@{/empresa/remover/{codigo}(codigo=${empresa.codigo})}"
								th:method="delete">
								<button>Remover</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>
			
			<div>
				<span th:if="${empresas.hasPrevious()}"> 
				      <a th:href="@{/empresaListar/page(page=${empresas.number-1},size=${empresas.size})}">Anterior</a>
				</span>

				<th:block
					th:each="i: ${#numbers.sequence(0, empresas.totalPages - 1)}">
					<span th:if="${empresas.number == i}" class="selected">[[${i}+1]]</span>
					<span th:unless="${empresas.number == i}"> 
					      <a  th:href="@{/empresaListar/page(page=${i},size=${empresas.size})}">[[${i}+1]]</a>
					</span>
				</th:block>

				<span th:if="${empresas.hasNext()}"> 
				      <a th:href="@{/empresaListar/page(page=${empresas.number+1},size=${empresas.size})}">Próximo</a>
				</span>
			</div>			
			
		</section>
	</main>
</body>

</html>