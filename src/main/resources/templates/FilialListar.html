<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />

<title>NEXT Level - Java</title>

<link rel="shortcut icon"
	href="https://www.via.com.br/wp-content/themes/viavarejo/assets/images/favicon.png?v=2">
<link href="../static/css/estilo.css" th:href="@{/css/estilo.css}"
	rel="stylesheet" />

</head>

<body>
	<header>
		<nav>
			<ul>
				<li><a th:href="@{/}">MENU</a></li>
				<li><a th:href="@{/filial/novo}"> Novo </a></li>
			</ul>
		</nav>

	</header>

	<main>
		<section>
			<h1>Lista das Filiais</h1>
		</section>

		<section>
			<table>
				<thead>
					<tr>
						<th>Empresa</th>
						<th>Filial</th>
						<th>Nome</th>
						<th>CNPJ</th>
						<th>Municipio</th>
					</tr>
				</thead>

				<tbody>
					<tr th:each="filial: ${filiais}">

						<td th:text="${filial.filialPK.codigoEmpresa}"></td>
						<td th:text="${filial.filialPK.codigoFilial}"></td>

						<td th:text="${filial.nome}"></td>
						<td th:text="${filial.cnpj}"></td>
						<td th:text="${filial.municipio}"></td>

						<td><a
							th:href="@{/filial/editar/{empresa}/{codigo}(empresa=${filial.filialPK.codigoEmpresa},codigo=${filial.filialPK.codigoFilial})}">Editar</a>
						</td>

						<td>
							<form
								th:action="@{/filial/remover/{empresa}/{codigo}(empresa=${filial.filialPK.codigoEmpresa},codigo=${filial.filialPK.codigoFilial})}"
								th:method="delete">
								<button>Remover</button>
							</form>
						</td>

					</tr>
				</tbody>
			</table>

			<div>
				<span th:if="${filiais.hasPrevious()}"> <a
					th:href="@{/filialListar/page(page=${filiais.number-1},size=${filiais.size})}">Anterior</a>
				</span>

				<th:block
					th:each="i: ${#numbers.sequence(0, filiais.totalPages - 1)}">
					<span th:if="${filiais.number == i}" class="selected">[[${i}+1]]</span>
					<span th:unless="${filiais.number == i}"> <a
						th:href="@{/filialListar/page(page=${i},size=${filiais.size})}">[[${i}+1]]</a>
					</span>
				</th:block>

				<span th:if="${filiais.hasNext()}"> <a
					th:href="@{/filialListar/page(page=${filiais.number+1},size=${filiais.size})}">Pr√≥ximo</a>
				</span>
			</div>

		</section>
	</main>
</body>

</html>